

% simplify, substitute factorise etc. 
% uniroot 
 
%\setcounter{chapter}{} 
\chapter{LURN\ldots{} To Use R for Basic Calculus Tasks} 
\label{Calculus} 
 

 
This chapter explains how various tasks in introductory calculus can be undertaken using \R{}. 
 
 
\section{Creating mathematical expressions} 
 
Before we embark on doing those fun things we want to do, we need to learn how to store a mathematical expression as an object in \R{}. There are many keywords that appear in these expressions which are translated to symbols when seen printed in a graph window but remain in ordinary text in \R{} commands. Such symbols include Greek letters, hats and bars, all of which have a meaning. 
 
\section{Plotting functions} 
 
This can be a lot of fun if you set things up right to start with. We create a \Rclass{function} to represent the mathematical expression using the \Rcmd{function} command, then plot it using either the \Rcmd{plot.function} or \Rcmd{curve} commands. 
\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlstd{> }\hlstd{MySine} \hlkwb{<-} \hlkwa{function}\hlstd{(}\hlkwc{x}\hlstd{)\{} \hlkwd{sin}\hlstd{(x)\}}
\hlstd{> }\hlkwd{curve}\hlstd{(MySine,} \hlopt{-}\hlnum{4}\hlopt{*}\hlstd{pi,} \hlnum{2}\hlopt{*}\hlstd{pi,} \hlkwc{n} \hlstd{=} \hlnum{2001}\hlstd{)}
\end{alltt}
\end{kframe}
\includegraphics[width=0.7\textwidth]{figures/CalculusSineCurve-1} 

\end{knitrout}
\SVGLink{CalculusSineCurve-1} 
 
You can use any valid mathematical expression in the \Rclass{function} you create. You might find it useful to test your idea= values for your inputs that are easy to work with, such as zero and one. You could then use integers, including negative integers, but  it could be easier to test your functions using values that lead to identifiable results such as multiples of $\pi$ when working with trignometric functions. For example: 
<<EvalMySine>> 
MySine(c((0:4)*pi/2)) 
@ 
 
%\section{} 
%\section{} 
 
 
\section{Differentiation} 
 
The internal code used for differentiation in \R{} is not as comprehensive as other mathematical software. 
It can handle arithmetic operators $+$, $-$, $*$, $/$ and \^, and the single-variable functions \Rcmd{exp}, \Rcmd{log} (natural logarithm), \Rcmd{sin}, \Rcmd{cos}, \Rcmd{tan}, \Rcmd{sinh}, \Rcmd{cosh}, \Rcmd{sqrt}, \Rcmd{pnorm}, 
\Rcmd{dnorm}, \Rcmd{asin} (inverse sine), \Rcmd{acos} (inverse cosine), \Rcmd{atan} (inverse tangent), and various \Rcmd{gamma} functions. The functions \Rcmd{pnorm} and \Rcmd{dnorm} are restricted to the standard normal distribution. 
 
The easiest way to find the derivative of an expression is to store the mathematical function using the \Rcmd{expression} command, and then use the \Rcmd{D} or \Rcmd{deriv} commands. 
\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlstd{> }\hlstd{y}\hlkwb{=}\hlkwd{expression}\hlstd{(}\hlkwd{exp}\hlstd{(}\hlnum{2}\hlopt{*}\hlstd{x))}
\hlstd{> }\hlkwd{D}\hlstd{(y,}\hlstr{"x"}\hlstd{)}
\end{alltt}
\begin{verbatim}
exp(2 * x) * 2
\end{verbatim}
\end{kframe}
\end{knitrout}
The second argument to the \Rcmd{D} function needs quote marks around it. 
 


