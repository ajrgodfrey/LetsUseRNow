<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>9 LURN... To Save Results for Later Inspection</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- html,2,next --> 
<meta name="src" content="LURN.tex"> 
<meta name="date" content="2017-05-24 15:06:00"> 
<link rel="stylesheet" type="text/css" href="LURN.css"> 
</head><body 
>
   <!--l. 9--><div class="crosslinks"><p class="noindent">[<a 
href="../LURNblind/LURNBlindch9.html">Version for blind users</a>] [<a 

href="LURNch10.html" >next</a>] [<a 
href="LURNch8.html" >prev</a>] [<a 
href="LURNch8.html#tailLURNch8.html" >prev-tail</a>] [<a 
href="#tailLURNch9.html">tail</a>] [<a 
href="LURN.html#LURNch9.html" >up</a>] </p></div>
   <h2 class="chapterHead"><span class="titlemark">Chapter&#x00A0;9</span><br /><a 
 id="x11-660009"></a>LURN&#x2026; To Save Results for Later Inspection</h2>
<!--l. 18--><p class="noindent" >In this chapter we see how we can save our results, both graphical and numerical,
in files for later use. I find it useful to be able to generate tables and figures
for documents as individual files because I use the <span class="LATEX">L<span class="A">A</span><span class="TEX">T<span 
class="E">E</span>X</span></span> system for
typesetting documents. I like the advantage this approach has because it means
I do not need to sift through larger documents to delete or repair old
tables and figures if data is updated or errors in my working are found. In
fact the document you are reading is prepared in exactly this way. All
tables and figures generated by <span 
class="aess-12">R </span>were stored as separate files for later
use.
<!--l. 20--><p class="indent" >   This chapter is not about saving data. If you want to know how to save
your data for sharing or storing then you need Chapter&#x00A0;<a 
href="LURNch6.html#x8-410006">6<!--tex4ht:ref: ExportData --></a> on exporting
data.
<!--l. 22--><p class="indent" >   This chapter also assumes you already know how to create a graph.
   <h3 class="sectionHead"><span class="titlemark">9.1   </span> <a 
 id="x11-670009.1"></a>Copying and pasting graphs</h3>
<!--l. 26--><p class="noindent" >OK you can do it if you must. If you are using a word processor then this is the
simplest way to get a graph into your document. You need to go through all the
steps again if the figure turns out to be substandard in some way so watch what
you&#8217;re doing!
<!--l. 28--><p class="indent" >   <span 
class="aess-12">R </span>will open a new window if required, or a pane in the existing graph
window for each graph created, regardless of the mode you choose to
run <span 
class="aess-12">R</span>. The menus offer the choice of copying the current window to the
clipboard and indicate the hot-key for doing this. You can then place the
graph in your word processed document where you want it by pasting it as
required.
<!--l. 30--><p class="noindent" >
   <h3 class="sectionHead"><span class="titlemark">9.2   </span> <a 
 id="x11-680009.2"></a>Saving a graph using the menus</h3>
<!--l. 32--><p class="noindent" ><span 
class="aess-12">R </span>does give the user a range of options for saving graphs within the pull
down menus. You should choose the file type that best suits your needs.
The problem with this way of saving graphs, and the copy and paste
approach, is that it is labour intensive. When it comes time to develop a
program that will generate lots of graphs, you will want to have them saved
automatically.
                                                                          

                                                                          
<!--l. 34--><p class="noindent" >
   <h3 class="sectionHead"><span class="titlemark">9.3   </span> <a 
 id="x11-690009.3"></a>Saving a graph using commands within your <span 
class="aess-12">R </span>program</h3>
<!--l. 36--><p class="noindent" >There are several ways to save a graph created within your <span 
class="aess-12">R </span>program. I offer one
suggestion that I think provides some degree of flexibility, especially if you need to
change the file type for some reason. First of all, recall that <span 
class="aess-12">R </span>will open a new
graph window if necessary or add a new graph to the existing graph window
device. I make sure that I close all graph windows immediately after creating
and saving them in my <span 
class="aess-12">R </span>scripts. To close a graph window we use the
<a 
 id="dx11-69001"></a><span 
class="aett-12">dev.off() </span>command. This keeps things tidy and means we don&#8217;t have lots of
graph windows to worry about. Opening graphs is a slightly different
story.
<!--l. 38--><p class="indent" >   For a basic graph such as a histogram where the default size of the window
suits my purposes, I use the <a 
 id="dx11-69002"></a><span 
class="aett-12">x11() </span>command to open a new graph window; we&#8217;ll
see how to change this soon. I then create my graph as required and save
it using the <a 
 id="dx11-69003"></a><span 
class="aett-12">savePlot() </span>command. Providing an example now seems
appropriate.
<!--l. 40--><p class="indent" >   The following code will result in a graph similar to that given in Exhibit&#x00A0;<a 
href="#x11-69004r1">9.1<!--tex4ht:ref: HistStandNormRandValues --></a>
&#8212; similar because random data are used and you will get something slightly
different.
                                                                          

                                                                          
<!--l. 41--><p class="indent" >   <a 
 id="x11-69004r1"></a><hr class="float"><div class="float" 
>
                                                                          

                                                                          
<div class="center" 
>
<!--l. 41--><p class="noindent" >
<br /> <div class="caption" 
><span class="id">Exhibit 9.1: </span><span  
class="content">Histogram of 10,000 random numbers drawn from a standard
normal distribution. </span></div><!--tex4ht:label?: x11-69004r1 -->
<!--l. 43--><p class="noindent" ><img 
src="LURN15x.png" alt="PIC" class="graphics" width="284.52756pt" height="284.53224pt" ><!--tex4ht:graphics  
name="LURN15x.png" src="figures/StoreResultsHistRand10000Z-1.eps"  
--> <a 
href="../svgs/StoreResultsHistRand10000Z-1.html" >link to SVG
file: StoreResultsHistRand10000Z-1.svg</a></div>
                                                                          

                                                                          
   </div><hr class="endfloat" />
<!--l. 53--><p class="indent" >   It should be fairly obvious what each command does so the only one that
really needs further explanation is the <a 
 id="dx11-69005"></a><span 
class="aett-12">savePlot() </span>command. The first argument
is the intended filename for our graph. The filename may need some further
explanation. It is in several parts &#8212; <span 
class="cmmi-12">.</span><span 
class="cmsy-10x-x-120">\\</span><span 
class="aett-12">figures</span><span 
class="cmsy-10x-x-120">\\</span><span 
class="aett-12">HistRandValsStandNorm.eps</span>
has a path, a filename and the extension.
<!--l. 55--><p class="indent" >   The <span 
class="cmmi-12">.</span><span 
class="cmsy-10x-x-120">\\</span><span 
class="aett-12">figures</span><span 
class="cmsy-10x-x-120">\\ </span>is the path that shows <span 
class="aess-12">R </span>to save the file in a subfolder off
the current working directory. I&#8217;ve called the file <span 
class="aett-12">HistRandValsStandNorm.eps</span>
because I want to use <span class="LATEX">L<span class="A">A</span><span class="TEX">T<span 
class="E">E</span>X</span></span> to compile these notes into a presentable
document. Note that I have explicitly stated the extension in the complete
filename to be the same as the second argument for the entire command, &#8220;eps" in
this instance. You can change this to suit other file types that you might need
using <span 
class="aett-12">find/replace </span>techniques in your script files. Other file types available
include &#8220;jpg", &#8220;bmp", and &#8220;pdf". See the help on the <a 
 id="dx11-69006"></a><span 
class="aett-12">savePlot() </span>command for a
complete listing.
<!--l. 58--><p class="indent" >   The <a 
 id="dx11-69007"></a><span 
class="aett-12">x11() </span>command can be replaced by a number of others which are all
aliased with one another. The example above doesn&#8217;t supply any arguments to
this command, but width and height quantities can be supplied. The default size
is 7<span 
class="cmsy-10x-x-120">&#x00D7;</span>7 inches but apparently this doesn&#8217;t always behave properly under the
Windows operating system. You might be advised to re-run the code above with
the first command replaced by <span 
class="aett-12">x11(7,5) </span>or similar, changing the second
number to alter the aspect ratio of the resulting figure window. Once you
get the size you want for certain types of graphs you&#8217;re bound to look
back to your old code and replicate the same size graph windows every
time. A boxplot is a key example where the default window size is often
inappropriate.
   <h3 class="sectionHead"><span class="titlemark">9.4   </span> <a 
 id="x11-700009.4"></a>Saving output in a text file</h3>
<!--l. 62--><p class="noindent" >One simple way to redirect the output from the main <span 
class="aess-12">R </span>window is to use the
<a 
 id="dx11-70001"></a><span 
class="aett-12">sink() </span>command. In this case, you will type in or execute commands as per
normal but not see any of the output as this is appended to a separate text file.
Try the following code on for size.
<!--l. 67--><p class="indent" >
   <div class="fancyvrb" id="fancyvrb223">  <a 
 id="x11-70003r1"></a><span 
class="aett-12">&#x00A0;</span><span 
class="aett-12">&#x00A0;&#x003E;</span><span 
class="aett-12">&#x00A0;x=1:20</span><br class="fancyvrb" /><a 
 id="x11-70005r2"></a><span 
class="aett-12">&#x00A0;</span><span 
class="aett-12">&#x00A0;&#x003E;</span><span 
class="aett-12">&#x00A0;x</span></div>
<!--l. 71--><p class="noindent" >
   <div class="fancyvrb" id="fancyvrb224"> <a 
 id="x11-70007r1"></a><span 
class="aett-12">&#x00A0;</span><span 
class="aett-12">&#x00A0;</span><span 
class="aett-12">&#x00A0;[1]</span><span 
class="aett-12">&#x00A0;</span><span 
class="aett-12">&#x00A0;1</span><span 
class="aett-12">&#x00A0;</span><span 
class="aett-12">&#x00A0;2</span><span 
class="aett-12">&#x00A0;</span><span 
class="aett-12">&#x00A0;3</span><span 
class="aett-12">&#x00A0;</span><span 
class="aett-12">&#x00A0;4</span><span 
class="aett-12">&#x00A0;</span><span 
class="aett-12">&#x00A0;5</span><span 
class="aett-12">&#x00A0;</span><span 
class="aett-12">&#x00A0;6</span><span 
class="aett-12">&#x00A0;</span><span 
class="aett-12">&#x00A0;7</span><span 
class="aett-12">&#x00A0;</span><span 
class="aett-12">&#x00A0;8</span><span 
class="aett-12">&#x00A0;</span><span 
class="aett-12">&#x00A0;9</span><span 
class="aett-12">&#x00A0;10</span><span 
class="aett-12">&#x00A0;11</span><span 
class="aett-12">&#x00A0;12</span><span 
class="aett-12">&#x00A0;13</span><span 
class="aett-12">&#x00A0;14</span><span 
class="aett-12">&#x00A0;15</span><span 
class="aett-12">&#x00A0;16</span><span 
class="aett-12">&#x00A0;17</span><span 
class="aett-12">&#x00A0;18</span><br class="fancyvrb" /><a 
 id="x11-70009r2"></a><span 
class="aett-12">&#x00A0;</span><span 
class="aett-12">&#x00A0;[19]</span><span 
class="aett-12">&#x00A0;19</span><span 
class="aett-12">&#x00A0;20</span></div>
<!--l. 79--><p class="indent" >
                                                                          

                                                                          
   <div class="fancyvrb" id="fancyvrb225"> <a 
 id="x11-70011r1"></a><span 
class="aett-12">&#x00A0;</span><span 
class="aett-12">&#x00A0;&#x003E;</span><span 
class="aett-12">&#x00A0;sink(".\\other\\JustPrintX.txt")</span><br class="fancyvrb" /><a 
 id="x11-70013r2"></a><span 
class="aett-12">&#x00A0;</span><span 
class="aett-12">&#x00A0;&#x003E;</span><span 
class="aett-12">&#x00A0;x</span><br class="fancyvrb" /><a 
 id="x11-70015r3"></a><span 
class="aett-12">&#x00A0;</span><span 
class="aett-12">&#x00A0;&#x003E;</span><span 
class="aett-12">&#x00A0;##</span><span 
class="aett-12">&#x00A0;sink()</span></div>
<!--l. 88--><p class="indent" >   This creates a text file called <span 
class="aett-12">JustPrintX.txt</span> in a subfolder called <span 
class="aett-12">other</span>,
within the current working directory (which I created earlier). The file is worth
looking at because it should show exactly what would have been printed in the <span 
class="aess-12">R</span>
window if the sink were not active. Note that the second use of <span 
class="aett-12">sink() </span>stops the
sink from being active.
<!--l. 90--><p class="indent" >   Just typing the name of an object implicitly calls the relevant <a 
 id="dx11-70016"></a><span 
class="aett-12">print()</span>
function for that object type. This does not work when a sink is active however, so
we must use the <a 
 id="dx11-70017"></a><span 
class="aett-12">print() </span>command explicitly to get the output into our sink file.
For example
<!--l. 94--><p class="indent" >
   <div class="fancyvrb" id="fancyvrb226">  <a 
 id="x11-70019r1"></a><span 
class="aett-12">&#x00A0;</span><span 
class="aett-12">&#x00A0;&#x003E;</span><span 
class="aett-12">&#x00A0;sink(".\\other\\JustPrintX2.txt")</span><br class="fancyvrb" /><a 
 id="x11-70021r2"></a><span 
class="aett-12">&#x00A0;</span><span 
class="aett-12">&#x00A0;&#x003E;</span><span 
class="aett-12">&#x00A0;print(x)</span></div>
<!--l. 98--><p class="noindent" >
   <div class="fancyvrb" id="fancyvrb227"> <a 
 id="x11-70023r1"></a><span 
class="aett-12">&#x00A0;</span><span 
class="aett-12">&#x00A0;</span><span 
class="aett-12">&#x00A0;[1]</span><span 
class="aett-12">&#x00A0;</span><span 
class="aett-12">&#x00A0;1</span><span 
class="aett-12">&#x00A0;</span><span 
class="aett-12">&#x00A0;2</span><span 
class="aett-12">&#x00A0;</span><span 
class="aett-12">&#x00A0;3</span><span 
class="aett-12">&#x00A0;</span><span 
class="aett-12">&#x00A0;4</span><span 
class="aett-12">&#x00A0;</span><span 
class="aett-12">&#x00A0;5</span><span 
class="aett-12">&#x00A0;</span><span 
class="aett-12">&#x00A0;6</span><span 
class="aett-12">&#x00A0;</span><span 
class="aett-12">&#x00A0;7</span><span 
class="aett-12">&#x00A0;</span><span 
class="aett-12">&#x00A0;8</span><span 
class="aett-12">&#x00A0;</span><span 
class="aett-12">&#x00A0;9</span><span 
class="aett-12">&#x00A0;10</span><span 
class="aett-12">&#x00A0;11</span><span 
class="aett-12">&#x00A0;12</span><span 
class="aett-12">&#x00A0;13</span><span 
class="aett-12">&#x00A0;14</span><span 
class="aett-12">&#x00A0;15</span><span 
class="aett-12">&#x00A0;16</span><span 
class="aett-12">&#x00A0;17</span><span 
class="aett-12">&#x00A0;18</span><br class="fancyvrb" /><a 
 id="x11-70025r2"></a><span 
class="aett-12">&#x00A0;</span><span 
class="aett-12">&#x00A0;[19]</span><span 
class="aett-12">&#x00A0;19</span><span 
class="aett-12">&#x00A0;20</span></div>
<!--l. 102--><p class="noindent" >
   <div class="fancyvrb" id="fancyvrb228"> <a 
 id="x11-70027r1"></a><span 
class="aett-12">&#x00A0;</span><span 
class="aett-12">&#x00A0;&#x003E;</span><span 
class="aett-12">&#x00A0;##</span><span 
class="aett-12">&#x00A0;sink()</span></div>
<!--l. 108--><p class="indent" >   Check this file out and note the contents are what we might expect. It&#8217;s
cleaner to use the <a 
 id="dx11-70028"></a><span 
class="aett-12">cat() </span>command in place of the <a 
 id="dx11-70029"></a><span 
class="aett-12">print() </span>command here though.
For example
<!--l. 112--><p class="indent" >
   <div class="fancyvrb" id="fancyvrb229">  <a 
 id="x11-70031r1"></a><span 
class="aett-12">&#x00A0;</span><span 
class="aett-12">&#x00A0;&#x003E;</span><span 
class="aett-12">&#x00A0;sink(".\\other\\JustPrintX3.txt")</span><br class="fancyvrb" /><a 
 id="x11-70033r2"></a><span 
class="aett-12">&#x00A0;</span><span 
class="aett-12">&#x00A0;&#x003E;</span><span 
class="aett-12">&#x00A0;cat(x)</span></div>
<!--l. 116--><p class="noindent" >
   <div class="fancyvrb" id="fancyvrb230"> <a 
 id="x11-70035r1"></a><span 
class="aett-12">&#x00A0;</span><span 
class="aett-12">&#x00A0;1</span><span 
class="aett-12">&#x00A0;2</span><span 
class="aett-12">&#x00A0;3</span><span 
class="aett-12">&#x00A0;4</span><span 
class="aett-12">&#x00A0;5</span><span 
class="aett-12">&#x00A0;6</span><span 
class="aett-12">&#x00A0;7</span><span 
class="aett-12">&#x00A0;8</span><span 
class="aett-12">&#x00A0;9</span><span 
class="aett-12">&#x00A0;10</span><span 
class="aett-12">&#x00A0;11</span><span 
class="aett-12">&#x00A0;12</span><span 
class="aett-12">&#x00A0;13</span><span 
class="aett-12">&#x00A0;14</span><span 
class="aett-12">&#x00A0;15</span><span 
class="aett-12">&#x00A0;16</span><span 
class="aett-12">&#x00A0;17</span><span 
class="aett-12">&#x00A0;18</span><span 
class="aett-12">&#x00A0;19</span><span 
class="aett-12">&#x00A0;20</span></div>
<!--l. 119--><p class="noindent" >
   <div class="fancyvrb" id="fancyvrb231"> <a 
 id="x11-70037r1"></a><span 
class="aett-12">&#x00A0;</span><span 
class="aett-12">&#x00A0;&#x003E;</span><span 
class="aett-12">&#x00A0;##</span><span 
class="aett-12">&#x00A0;sink()</span></div>
<!--l. 125--><p class="indent" >   An even quicker method useful for a single result is to use the <a 
 id="dx11-70038"></a><span 
class="aett-12">cat()</span>
command&#8217;s full potential:
<!--l. 129--><p class="indent" >
   <div class="fancyvrb" id="fancyvrb232">  <a 
 id="x11-70040r1"></a><span 
class="aett-12">&#x00A0;</span><span 
class="aett-12">&#x00A0;&#x003E;</span><span 
class="aett-12">&#x00A0;cat(x,</span><span 
class="aett-12">&#x00A0;file=".\\other\\JustCatX.txt")</span></div>
                                                                          

                                                                          
<!--l. 137--><p class="noindent" >
   <h3 class="sectionHead"><span class="titlemark">9.5   </span> <a 
 id="x11-710009.5"></a>Saving the entire <span 
class="aess-12">R </span>Console</h3>
<!--l. 139--><p class="noindent" >Windows users of <span 
class="aess-12">R </span>who use the RConsole have an option to save the entire
console using the menus. At present, however, this is not an option that can be
invoked via the command line.
<!--l. 141--><p class="indent" >   It is possible to save the history of commands using the <a 
 id="dx11-71001"></a><span 
class="aett-12">savehistory()</span>
command, and of course your data and command history can be saved at the end
of a session.
<!--l. 143--><p class="indent" >   You&#8217;ll soon see that you do not need to save a copy of the <span 
class="aess-12">R </span>console as it takes
so little time to re-run a set of commands and re-generate the output
desired.
                                                                          

                                                                          
   <!--l. 8--><div class="crosslinks"><p class="noindent">[<a 
href="../LURNblind/LURNBlindch9.html">Version for blind users</a>] [<a 

href="LURNch10.html" >next</a>] [<a 
href="LURNch8.html" >prev</a>] [<a 
href="LURNch8.html#tailLURNch8.html" >prev-tail</a>] [<a 
href="LURNch9.html" >front</a>] [<a 
href="LURN.html#LURNch9.html" >up</a>] </p></div>
<!--l. 8--><p class="indent" >   <a 
 id="tailLURNch9.html"></a>   
</body></html> 
